= exec
:toc:
:toc-placement!:

Execute external programs.

toc::[]

== *exec.command*(_String_[, _Table_][, _Table_][, _Table_][, _String_][, _String_]) -> _Boolean_, _String_, _String_
Execute a program. Base function of the the other functions in this module.

=== Arguments
[options="headers",width="72%"]
|===
|Type |Description
|string |Executable
|table |Arguments
|table |Environment
|string |Working directory
|string |STDIN
|===

=== Returns
[options="headers",width="72%"]
|===
|Type |Description
|boolean |`true` if no errors encountered, `false` otherwise
|string |STDOUT output from program
|string |STDERR output from program
|===

== *exec.ctx*(_String_) -> _Function_
Execute program under a context.

=== Arguments
[options="headers",width="72%"]
|===
|Type |Description
|string |Executable
|===

=== Returns
[options="headers",width="72%"]
|===
|Type |Description
|function| A function that can be called and set values; the function also returns the same values as `exec.command`
|===

=== Map
[options="headers",width="72%"]
|===
|Value |Description
|env |Environment
|cwd |Working directory
|stdin |STDIN
|===

=== Example
----
local ls = exec.ctx'/bin/ls'
ls.env = {'LC_ALL=C'}
local r, o = ls('/tmp')
----

== *exec.run(_String_) -> _Function_
A quick way run programs if you only need to set arguments.

=== Arguments
[options="headers",width="72%"]
|===
|Type |Description
|string |Executable
|===

=== Returns
[options="headers",width="72%"]
|===
|Type |Description
|function| A function that can be called; the function also returns the same values as `exec.command`
|===
